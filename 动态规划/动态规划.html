<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../css/wolai.css"/><title>动态规划 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="动态规划" class="main-title"></div></div></header><article><h3 id="bwXx8N3MQqPJDLdLQBavbn" class="wolai-block"><span class="inline-wrap">基本概念</span></h3><div id="6szrbsWjZCYnB3tJsFomRg" class="wolai-block wolai-text"><div><span class="inline-wrap">动态规划是一种通过保存中间计算结果来优化问题解决的方法，尤其适用于具有重叠子问题和最优子结构性质的问题。以下是关键步骤：</span></div></div><ol class="wolai-block"><li id="iRz5GRMJPamHirjsjcXBWC"><div class="marker"></div><span class="inline-wrap"><b>定义子问题</b></span><span class="inline-wrap">：将原问题划分为若干个相互关联的子问题。</span></li><li id="2BpkitV7g3YSANjkFpXfYm"><div class="marker"></div><span class="inline-wrap"><b>写出状态转移方程</b></span><span class="inline-wrap">：描述子问题之间的关系。</span></li><li id="js8N3kUUiXo6KPD1gePdzb"><div class="marker"></div><span class="inline-wrap"><b>确定边界条件</b></span><span class="inline-wrap">：定义初始状态。</span></li><li id="g1KE7QwzF9C46zEXDzrnxz"><div class="marker"></div><span class="inline-wrap"><b>计算结果</b></span><span class="inline-wrap">：利用状态转移方程和边界条件，逐步计算并存储子问题的结果，最终得到原问题的解。</span></li></ol><h3 id="aZzZtZ9uCu1LTke5yDTddA" class="wolai-block"><span class="inline-wrap">示例题目 1：独特路径 (Unique Paths)</span></h3><h4 id="Dy7Y6R15jrSQiHQuZ6nBJ" class="wolai-block"><span class="inline-wrap">题目描述</span></h4><ul class="wolai-block"><li id="3KTaGYQnYgbAp38Dbxs3Rg"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">题目：一个机器人位于一个 </span><span class="inline-wrap"><code>m x n</code></span><span class="inline-wrap"> 网格的左上角，机器人每次只能向下或向右移动一步。机器人试图达到网格的右下角。问有多少条不同的路径？</span><div id="DPcaHNfedYLneo9A9zJ8k" class="wolai-block wolai-text"><div><span class="inline-wrap">示例：</span></div></div><code-block id="wwbFz6A6gTU6Xjnd34b3FS" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre>输入<span class="token operator">:</span> m <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">2</span>
输出<span class="token operator">:</span> <span class="token number">3</span>
解释<span class="token operator">:</span>
从左上角开始，总共有 <span class="token number">3</span> 条路径可以到达右下角。
<span class="token number">1.</span> 向右 <span class="token operator">-</span><span class="token operator">></span> 向右 <span class="token operator">-</span><span class="token operator">></span> 向下
<span class="token number">2.</span> 向右 <span class="token operator">-</span><span class="token operator">></span> 向下 <span class="token operator">-</span><span class="token operator">></span> 向右
<span class="token number">3.</span> 向下 <span class="token operator">-</span><span class="token operator">></span> 向右 <span class="token operator">-</span><span class="token operator">></span> 向右</pre></div></code-block></li></ul><h4 id="94eEnouZxbpftKCoq3kF1J" class="wolai-block"><span class="inline-wrap">解答</span></h4><div id="9XWcXWqpEkUdpB5wEVjwev" class="wolai-block wolai-text"><div><span class="inline-wrap">我们可以用动态规划来解决这个问题。设 </span><span class="inline-wrap"><code>dp[i][j]</code></span><span class="inline-wrap"> 表示从起点到达位置 </span><span class="inline-wrap"><code>(i, j)</code></span><span class="inline-wrap"> 的路径数。状态转移方程为：</span></div></div><ul class="wolai-block"><li id="qy64VHvQQRB1VkbSuTjUch"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>dp[i][j] = dp[i-1][j] + dp[i][j-1]</code></span><span class="inline-wrap">，表示从上方或左方达到 </span><span class="inline-wrap"><code>(i, j)</code></span><span class="inline-wrap">。</span></li></ul><code-block id="rbTG1Tw3PV4LiRMm3XCyJt" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token keyword">def</span> <span class="token function">uniquePaths</span><span class="token punctuation">(</span>m<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> n <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    
    <span class="token keyword">return</span> dp<span class="token punctuation">[</span>m<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>

<span class="token comment"># 测试样例</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>uniquePaths<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: 3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>uniquePaths<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: 28</span></pre></div></code-block><h3 id="cm6i1cpNUVPuCkXBMACnBC" class="wolai-block"><span class="inline-wrap">示例题目 2：最小路径和 (Minimum Path Sum)</span></h3><h4 id="vcTrVaYY654yvty6yYrgmp" class="wolai-block"><span class="inline-wrap">题目描述</span></h4><ul class="wolai-block"><li id="jZXf8Fjsnw59YDxJ5PEV1k"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">题目：给定一个包含非负整数的 </span><span class="inline-wrap"><code>m x n</code></span><span class="inline-wrap"> 网格，请找出一条从左上角到右下角的路径，使得路径上的数字总和为最小。</span><div id="tqeicrnnKTeRZt6TGdj4vU" class="wolai-block wolai-text"><div><span class="inline-wrap">示例：</span></div></div><code-block id="dVVfhCmh9ZdSLVSMB2FYrP" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre>输入<span class="token operator">:</span> grid <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
输出<span class="token operator">:</span> <span class="token number">7</span>
解释<span class="token operator">:</span> 因为路径 <span class="token number">1</span>→<span class="token number">3</span>→<span class="token number">1</span>→<span class="token number">1</span>→<span class="token number">1</span> 的总和最小。</pre></div></code-block></li></ul><h4 id="8M5TYDpCFhidRfPbouPR7D" class="wolai-block"><span class="inline-wrap">解答</span></h4><div id="aJFUnybe1XJs9i45v6o8Dw" class="wolai-block wolai-text"><div><span class="inline-wrap">同样，我们可以用动态规划来解决这个问题。设 </span><span class="inline-wrap"><code>dp[i][j]</code></span><span class="inline-wrap"> 表示从起点到达位置 </span><span class="inline-wrap"><code>(i, j)</code></span><span class="inline-wrap"> 的最小路径和。状态转移方程为：</span></div></div><ul class="wolai-block"><li id="oKdYPE38issXrcAtqTYqzd"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>dp[i][j] = grid[i][j] + min(dp[i-1][j], dp[i][j-1])</code></span><span class="inline-wrap">，表示从上方或左方达到 </span><span class="inline-wrap"><code>(i, j)</code></span><span class="inline-wrap"> 的最小路径和。</span></li></ul><code-block id="uHbzxNd8r5tHcQdM8exxq6" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token keyword">from</span> typing <span class="token keyword">import</span> List

<span class="token keyword">def</span> <span class="token function">minPathSum</span><span class="token punctuation">(</span>grid<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    m<span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> n <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">]</span>
    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">:</span>
        dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token builtin">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    
    <span class="token keyword">return</span> dp<span class="token punctuation">[</span>m<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>

<span class="token comment"># 测试样例</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>minPathSum<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: 7</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>minPathSum<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>          <span class="token comment"># 输出: 12</span></pre></div></code-block><h3 id="7bYBkpL2Z2PPcVFuEm5BsC" class="wolai-block"><span class="inline-wrap">示例题目 3：解码方法 (Decode Ways)</span></h3><h4 id="fsFsBCTN5esisL47bitc7g" class="wolai-block"><span class="inline-wrap">题目描述</span></h4><ul class="wolai-block"><li id="gmZFWTWy5TeGYN2YguDgz1"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">题目：一条包含字母 </span><span class="inline-wrap"><code>A-Z</code></span><span class="inline-wrap"> 的消息通过以下方式编码：</span><span class="inline-wrap"><code>&#39;A&#39; -&gt; 1, &#39;B&#39; -&gt; 2, ..., &#39;Z&#39; -&gt; 26</code></span><span class="inline-wrap">。给定一个只包含数字的非空字符串，求解码方法的总数。</span><div id="kci7rugiqw7tdp3fQc6oLo" class="wolai-block wolai-text"><div><span class="inline-wrap">示例：</span></div></div><code-block id="rVzdt68kcC6u99nyPFUFm5" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre>输入<span class="token operator">:</span> s <span class="token operator">=</span> <span class="token string">"226"</span>
输出<span class="token operator">:</span> <span class="token number">3</span>
解释<span class="token operator">:</span> 它可以解码为 <span class="token string">"BZ"</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"VF"</span> <span class="token punctuation">(</span><span class="token number">22</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 和 <span class="token string">"BBF"</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token number">2</span> <span class="token number">6</span><span class="token punctuation">)</span>。</pre></div></code-block></li></ul><h4 id="aeXcDn5yYCQhfsA6N9w1Mb" class="wolai-block"><span class="inline-wrap">解答</span></h4><div id="omvzGrJC3jPZ2ZHL62b3pK" class="wolai-block wolai-text"><div><span class="inline-wrap">我们可以用动态规划来解决这个问题。设 </span><span class="inline-wrap"><code>dp[i]</code></span><span class="inline-wrap"> 表示前 </span><span class="inline-wrap"><code>i</code></span><span class="inline-wrap"> 个字符的解码方法总数。状态转移方程为：</span></div></div><ul class="wolai-block"><li id="Bm1ow1hrA1BNipnfUpB5L"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">如果 </span><span class="inline-wrap"><code>s[i-1]</code></span><span class="inline-wrap"> 是有效数字，</span><span class="inline-wrap"><code>dp[i] += dp[i-1]</code></span><span class="inline-wrap">。</span></li><li id="fxq198fDnSSvFM9TAEoKAZ"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">如果 </span><span class="inline-wrap"><code>s[i-2:i]</code></span><span class="inline-wrap"> 是有效的两位数，</span><span class="inline-wrap"><code>dp[i] += dp[i-2]</code></span><span class="inline-wrap">。</span></li></ul><code-block id="mTzcUR6PXQrfBw7RSAtsbq" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token keyword">def</span> <span class="token function">numDecodings</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> s <span class="token keyword">or</span> s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'0'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">0</span>
    
    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
    dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>

    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> s<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'0'</span><span class="token punctuation">:</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token number">10</span> <span class="token operator">&lt;=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">26</span><span class="token punctuation">:</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span>
    
    <span class="token keyword">return</span> dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span>

<span class="token comment"># 测试样例</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>numDecodings<span class="token punctuation">(</span><span class="token string">"226"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: 3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>numDecodings<span class="token punctuation">(</span><span class="token string">"12"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># 输出: 2</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>numDecodings<span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment"># 输出: 0</span></pre></div></code-block><h3 id="qmAcQHsy5mDCSH7A3pUGf7" class="wolai-block"><span class="inline-wrap">LeetCode 中的练习题目</span></h3><ol class="wolai-block"><li id="c2vitne8qLdtHkCaXqk6za"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/unique-paths/"><span>LeetCode 62: Unique Paths</span></a></span></li><li id="fXkPZ6DhGF3CqrMG3fBnis"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/minimum-path-sum/"><span>LeetCode 64: Minimum Path Sum</span></a></span></li><li id="g7o2EVPaZcHq2WFYLVrLVu"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/decode-ways/"><span>LeetCode 91: Decode Ways</span></a></span></li><li id="9msuuBVhgeXZDEBrmS7Z1M"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/maximum-product-subarray/"><span>LeetCode 152: Maximum Product Subarray</span></a></span></li><li id="nHsoF5GsVBm6Zm9rJgRuCK"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/house-robber/"><span>LeetCode 198: House Robber</span></a></span></li><li id="4U8N8GKXSmzsPwMZjZsg31"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/maximal-square/"><span>LeetCode 221: Maximal Square</span></a></span></li><li id="9EVuHQN7XhVfnuRy852JhF"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/partition-equal-subset-sum/"><span>LeetCode 416: Partition Equal Subset Sum</span></a></span></li><li id="dZvRbojFHZLUxvxGbqxreH"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/target-sum/"><span>LeetCode 494: Target Sum</span></a></span></li><li id="rSeSWrhbqtEF3E9zgndRUz"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/coin-change-2/"><span>LeetCode 518: Coin Change 2</span></a></span></li><li id="cPTKqPVZZfw43wEYqv13sV"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/2-keys-keyboard/"><span>LeetCode 650: 2 Keys Keyboard</span></a></span></li></ol></article><footer></footer></body></html>