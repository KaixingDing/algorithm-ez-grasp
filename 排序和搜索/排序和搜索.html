<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../css/wolai.css"/><title>排序和搜索 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="排序和搜索" class="main-title"></div></div></header><article><div id="hPfmgRCzzZBq4sEUdY21xh" class="wolai-block wolai-text"><div><span class="inline-wrap">排序和搜索是计算机科学中的基础问题，也是许多算法的核心部分。掌握排序和搜索的基本算法和技巧，对解决复杂的算法问题非常有帮助。</span></div></div><h2 id="d4eirGyrAgJmchQb2f3AdM" class="wolai-block"><span class="inline-wrap">排序算法</span></h2><div id="qMLfefByLanWLLNjSDehww" class="wolai-block wolai-text"><div><span class="inline-wrap">排序算法用于将一组数据按照某种顺序进行排列。常见的排序算法有：</span></div></div><ol class="wolai-block"><li id="xjLXzADnbMv7cqKzSnX6gk"><div class="marker"></div><span class="inline-wrap"><b>冒泡排序（Bubble Sort）</b></span><span class="inline-wrap">：通过反复交换相邻的元素，将最大的元素逐渐移动到数组的末尾。</span></li><li id="pGiDECqdJoV8r2SAveGNbE"><div class="marker"></div><span class="inline-wrap"><b>选择排序（Selection Sort）</b></span><span class="inline-wrap">：每次从未排序部分选择最小的元素，放到已排序部分的末尾。</span></li><li id="t3ufgGdkEJ7fdje4jFLySH"><div class="marker"></div><span class="inline-wrap"><b>插入排序（Insertion Sort）</b></span><span class="inline-wrap">：每次将一个新的元素插入到已排序部分的适当位置。</span></li><li id="gtTT3w9z3weyVFbKANGirB"><div class="marker"></div><span class="inline-wrap"><b>归并排序（Merge Sort）</b></span><span class="inline-wrap">：通过递归将数组分成两部分，分别排序后合并。</span></li><li id="fP1obDHmye91XhXaatF1HP"><div class="marker"></div><span class="inline-wrap"><b>快速排序（Quick Sort）</b></span><span class="inline-wrap">：通过递归选择一个基准，将数组分成两部分，分别排序。</span></li><li id="tYv3CjgdM4DHkmfN6AjwJH"><div class="marker"></div><span class="inline-wrap"><b>堆排序（Heap Sort）</b></span><span class="inline-wrap">：利用堆数据结构进行排序。</span></li><li id="44LPH5SjiGAtd3Lq14d56k"><div class="marker"></div><span class="inline-wrap"><b>计数排序（Counting Sort）</b></span><span class="inline-wrap">：适用于整数范围较小的情况，通过计数数组进行排序。</span></li><li id="giEtfjFdgp5Uwy4VSUFnpH"><div class="marker"></div><span class="inline-wrap"><b>基数排序（Radix Sort）</b></span><span class="inline-wrap">：对每一位数字进行排序，适用于整数和字符串。</span></li></ol><h3 id="wbVAb9f7PYRJvCt5HRWZeq" class="wolai-block"><span class="inline-wrap">示例题目 1：合并区间 (Merge Intervals)</span></h3><h4 id="5aTRp6Pe6inDxhghogJWGD" class="wolai-block"><span class="inline-wrap">题目描述</span></h4><ul class="wolai-block"><li id="7dQrsDEEsM7ozVPT19NiHy"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">题目： 给定一个区间的集合，请合并所有重叠的区间。</span><div id="59JiCNjsLp7RiQZuwMjQ7k" class="wolai-block wolai-text"><div><span class="inline-wrap">示例：</span></div></div><code-block id="3otrpJuDWHTwFEkAk26fVK" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre>输入<span class="token operator">:</span> intervals <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
输出<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
解释<span class="token operator">:</span> 区间 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> 和 <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> 重叠<span class="token punctuation">,</span> 将它们合并为 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">.</span></pre></div></code-block></li></ul><h4 id="oKGDWfXnP9jvvLb5LDzVcu" class="wolai-block"><span class="inline-wrap">解答</span></h4><div id="63621CkiC8A7JoTj93CrVC" class="wolai-block wolai-text"><div><span class="inline-wrap">我们可以先将区间按照起始位置排序，然后遍历区间，将重叠的区间合并。</span></div></div><code-block id="iWBzahNzKz8JRZYTA2Y1E7" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token keyword">from</span> typing <span class="token keyword">import</span> List

<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">merge</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> intervals<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> intervals<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        intervals<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        merged <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        
        <span class="token keyword">for</span> interval <span class="token keyword">in</span> intervals<span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> merged <span class="token keyword">or</span> merged<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> interval<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                merged<span class="token punctuation">.</span>append<span class="token punctuation">(</span>interval<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                merged<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>merged<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> interval<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        
        <span class="token keyword">return</span> merged

<span class="token comment"># 测试样例</span>
solution <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>solution<span class="token punctuation">.</span>merge<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: [[1,6],[8,10],[15,18]]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>solution<span class="token punctuation">.</span>merge<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: [[1,5]]</span></pre></div></code-block><h2 id="u9BiqH1g7goBDiCKEtSqpg" class="wolai-block"><span class="inline-wrap">搜索算法</span></h2><div id="b4NnFjBrGg5LUvgsY2gohK" class="wolai-block wolai-text"><div><span class="inline-wrap">搜索算法用于在数据集中查找特定元素。常见的搜索算法有：</span></div></div><ol class="wolai-block"><li id="uJd1rP7qxR6zA52MrTc47t"><div class="marker"></div><span class="inline-wrap"><b>线性搜索（Linear Search）</b></span><span class="inline-wrap">：逐个检查每个元素，适用于无序数据集。</span></li><li id="sqryKnsFhWkedLdUQhbcVN"><div class="marker"></div><span class="inline-wrap"><b>二分搜索（Binary Search）</b></span><span class="inline-wrap">：在有序数据集中，通过逐步缩小搜索范围进行查找。</span></li><li id="u8eS11jNpLaAyTYtVHh4UU"><div class="marker"></div><span class="inline-wrap"><b>深度优先搜索（DFS, Depth-First Search）</b></span><span class="inline-wrap">：用于图和树的遍历。</span></li><li id="4eWKqyeGhq8qfrv6NxwhgL"><div class="marker"></div><span class="inline-wrap"><b>广度优先搜索（BFS, Breadth-First Search）</b></span><span class="inline-wrap">：用于图和树的遍历。</span></li><li id="8sSqmCF1cJdCbN3WkJhmii"><div class="marker"></div><span class="inline-wrap"><b>跳跃搜索（Jump Search）</b></span><span class="inline-wrap">：在有序数据集中，通过跳跃进行查找。</span></li><li id="r1ydjdRMz68gTa2fKeyYBz"><div class="marker"></div><span class="inline-wrap"><b>插值搜索（Interpolation Search）</b></span><span class="inline-wrap">：基于数据分布的搜索算法，适用于均匀分布的数据。</span></li></ol><h3 id="dECUpFaSW9h6byD4HXtQ3q" class="wolai-block"><span class="inline-wrap">示例题目 2：二分搜索 (Binary Search)</span></h3><h4 id="uB6FssARoqLoNzSWdJYgCs" class="wolai-block"><span class="inline-wrap">题目描述</span></h4><ul class="wolai-block"><li id="pfJrJ52G5MyWf2hkt9Hp6C"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">题目： 给定一个排序数组和一个目标值，在数组中找到目标值，并返回其索引。如果目标值不存在于数组中，返回它将会被按顺序插入的位置。</span><div id="g24BUsTzaSNDdVykryNFiy" class="wolai-block wolai-text"><div><span class="inline-wrap">示例：</span></div></div><code-block id="tkwFZjrUwwtWurzkufFeCh" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre>输入<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">5</span>
输出<span class="token operator">:</span> <span class="token number">2</span>

输入<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">2</span>
输出<span class="token operator">:</span> <span class="token number">1</span></pre></div></code-block></li></ul><h4 id="x3WCWwYCyGkVjBrCNBEHjh" class="wolai-block"><span class="inline-wrap">解答</span></h4><div id="vvpiSwTd77x3kxstgT3J57" class="wolai-block wolai-text"><div><span class="inline-wrap">使用二分搜索可以高效地找到目标值的位置。其时间复杂度为 O(log n)。</span></div></div><code-block id="wc8UU4dviJP9aYuxwzNFEU" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token keyword">from</span> typing <span class="token keyword">import</span> List

<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">searchInsert</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
        
        <span class="token keyword">while</span> left <span class="token operator">&lt;=</span> right<span class="token punctuation">:</span>
            mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> target<span class="token punctuation">:</span>
                <span class="token keyword">return</span> mid
            <span class="token keyword">elif</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">:</span>
                left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                right <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span>
        
        <span class="token keyword">return</span> left

<span class="token comment"># 测试样例</span>
solution <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>solution<span class="token punctuation">.</span>searchInsert<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: 2</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>solution<span class="token punctuation">.</span>searchInsert<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: 1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>solution<span class="token punctuation">.</span>searchInsert<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: 4</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>solution<span class="token punctuation">.</span>searchInsert<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: 0</span></pre></div></code-block><h3 id="2rS1tAEpynyX2adakhBTpQ" class="wolai-block"><span class="inline-wrap">示例题目 3：在排序数组中查找元素的第一个和最后一个位置 (Find First and Last Position of Element in Sorted Array)</span></h3><h4 id="nxQJw8fTRkn3ahpr8skcoC" class="wolai-block"><span class="inline-wrap">题目描述</span></h4><ul class="wolai-block"><li id="rFH1D9XwDYL1SupknLZq7Q"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">题目： 给定一个按照升序排列的整数数组 </span><span class="inline-wrap"><code>nums</code></span><span class="inline-wrap"> 和一个目标值 </span><span class="inline-wrap"><code>target</code></span><span class="inline-wrap">，请你找出目标值在数组中的起始位置和结束位置。如果数组中不存在目标值，返回 </span><span class="inline-wrap"><code>[-1, -1]</code></span><span class="inline-wrap">。</span><div id="dme6jqKoQkdyH32YA3ioo5" class="wolai-block wolai-text"><div><span class="inline-wrap">示例：</span></div></div><code-block id="9xHDpSPPV2YEpyb6ooPqX1" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre>输入<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">8</span>
输出<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>

输入<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">6</span>
输出<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span></pre></div></code-block></li></ul><h4 id="NjxQGsJy4ZPZxsn7wUJDX" class="wolai-block"><span class="inline-wrap">解答</span></h4><div id="sxRC7MX1nEdxP6dQGPFpkq" class="wolai-block wolai-text"><div><span class="inline-wrap">我们可以使用二分搜索来高效地找到目标值的第一个和最后一个位置。通过两次二分搜索，一次找到第一个出现的位置，另一次找到最后一个出现的位置。</span></div></div><code-block id="7aU7ocTbmWDRAH6BKYgKoj" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token keyword">from</span> typing <span class="token keyword">import</span> List

<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">searchRange</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">findFirst</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
            left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
            <span class="token keyword">while</span> left <span class="token operator">&lt;=</span> right<span class="token punctuation">:</span>
                mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
                <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">>=</span> target<span class="token punctuation">:</span>
                    right <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>
            <span class="token keyword">return</span> left <span class="token keyword">if</span> left <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token keyword">and</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">==</span> target <span class="token keyword">else</span> <span class="token operator">-</span><span class="token number">1</span>
        
        <span class="token keyword">def</span> <span class="token function">findLast</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
            left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
            <span class="token keyword">while</span> left <span class="token operator">&lt;=</span> right<span class="token punctuation">:</span>
                mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
                <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> target<span class="token punctuation">:</span>
                    left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    right <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span>
            <span class="token keyword">return</span> right <span class="token keyword">if</span> right <span class="token operator">>=</span> <span class="token number">0</span> <span class="token keyword">and</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">==</span> target <span class="token keyword">else</span> <span class="token operator">-</span><span class="token number">1</span>
        
        <span class="token keyword">return</span> <span class="token punctuation">[</span>findFirst<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">,</span> findLast<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token comment"># 测试样例</span>
solution <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>solution<span class="token punctuation">.</span>searchRange<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: [3,4]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>solution<span class="token punctuation">.</span>searchRange<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: [-1,-1]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>solution<span class="token punctuation">.</span>searchRange<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>              <span class="token comment"># 输出: [-1,-1]</span></pre></div></code-block><h3 id="wxJJPfX91T7mX9ALHZenfe" class="wolai-block"><span class="inline-wrap">详细解释</span></h3><ol class="wolai-block"><li id="9rZXWnAX59VofjQ5ZVkuiU"><div class="marker"></div><span class="inline-wrap"><b>findFirst</b></span><span class="inline-wrap"> 函数：</span><ul class="wolai-block"><li id="xghqzBqMmg4cbn7z8772fv"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">使用二分搜索找到目标值 </span><span class="inline-wrap"><code>target</code></span><span class="inline-wrap"> 的第一个出现位置。</span></li><li id="9mihPvk3uNZcEYh8K9ZDKQ"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">如果中间元素 </span><span class="inline-wrap"><code>nums[mid]</code></span><span class="inline-wrap"> 大于等于 </span><span class="inline-wrap"><code>target</code></span><span class="inline-wrap">，则向左搜索。</span></li><li id="qUYEkFr4WYqGfEHH8GMtM2"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">如果中间元素 </span><span class="inline-wrap"><code>nums[mid]</code></span><span class="inline-wrap"> 小于 </span><span class="inline-wrap"><code>target</code></span><span class="inline-wrap">，则向右搜索。</span></li><li id="sXK79Rou1tB1ak1brC2P3e"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">最终检查 </span><span class="inline-wrap"><code>left</code></span><span class="inline-wrap"> 是否在数组范围内且 </span><span class="inline-wrap"><code>nums[left]</code></span><span class="inline-wrap"> 是否等于 </span><span class="inline-wrap"><code>target</code></span><span class="inline-wrap">，决定返回值。</span></li></ul></li><li id="dhatnNdEKiB1XHbKefufNE"><div class="marker"></div><span class="inline-wrap"><b>findLast</b></span><span class="inline-wrap"> 函数：</span><ul class="wolai-block"><li id="3jMxEdx6CvKgkjBsZXDUWx"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">使用二分搜索找到目标值 </span><span class="inline-wrap"><code>target</code></span><span class="inline-wrap"> 的最后一个出现位置。</span></li><li id="8gfKBnbGG64KLRQGGFc8Uf"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">如果中间元素 </span><span class="inline-wrap"><code>nums[mid]</code></span><span class="inline-wrap"> 小于等于 </span><span class="inline-wrap"><code>target</code></span><span class="inline-wrap">，则向右搜索。</span></li><li id="kjUTrAb23BWdD5dLGN6yuc"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">如果中间元素 </span><span class="inline-wrap"><code>nums[mid]</code></span><span class="inline-wrap"> 大于 </span><span class="inline-wrap"><code>target</code></span><span class="inline-wrap">，则向左搜索。</span></li><li id="crcWbdsRcK6XN96PsS8c8x"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">最终检查 </span><span class="inline-wrap"><code>right</code></span><span class="inline-wrap"> 是否在数组范围内且 </span><span class="inline-wrap"><code>nums[right]</code></span><span class="inline-wrap"> 是否等于 </span><span class="inline-wrap"><code>target</code></span><span class="inline-wrap">，决定返回值。</span></li></ul></li></ol><h2 id="aKF6FLWz2uf1DuRGK7KSJ4" class="wolai-block"><span class="inline-wrap">LeetCode 中的练习题目</span></h2><ol class="wolai-block"><li id="6uQQXKgHatxPMjNoTzRkfE"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/search-in-rotated-sorted-array/"><span>LeetCode 33: Search in Rotated Sorted Array</span></a></span></li><li id="9Qthbx8zv8ZsP61ECjmm3G"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/"><span>LeetCode 34: Find First and Last Position of Element in Sorted Array</span></a></span></li><li id="evJHAc4MeNYXJvqshzn2EM"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/combination-sum/"><span>LeetCode 39: Combination Sum</span></a></span></li><li id="4zgexgPUYnWDea7RRsAKxo"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/merge-intervals/"><span>LeetCode 56: Merge Intervals</span></a></span></li><li id="9sF7vvwCMW1spuy2kSfbQ3"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/search-a-2d-matrix/"><span>LeetCode 74: Search a 2D Matrix</span></a></span></li><li id="dDignZiJ9gYEd3rcFg8nLV"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/find-minimum-in-rotated-sorted-array/"><span>LeetCode 153: Find Minimum in Rotated Sorted Array</span></a></span></li><li id="mkvCZByY6mSDiZPYTC39Ay"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/kth-largest-element-in-an-array/"><span>LeetCode 215: Kth Largest Element in an Array</span></a></span></li><li id="8ZbgQJixnKNguErxbyjTDY"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/search-a-2d-matrix-ii/"><span>LeetCode 240: Search a 2D Matrix II</span></a></span></li><li id="4WCkg7TXSkzvjtbzGrqWPp"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/top-k-frequent-elements/"><span>LeetCode 347: Top K Frequent Elements</span></a></span></li><li id="7xPHUnoZ5D3YHEnf85Zaq"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/kth-smallest-element-in-a-sorted-matrix/"><span>LeetCode 378: Kth Smallest Element in a Sorted Matrix</span></a></span></li></ol></article><footer></footer></body></html>