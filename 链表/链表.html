<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../css/wolai.css"/><title>链表 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="链表" class="main-title"></div></div></header><article><div id="hb3vYnCsx9xJ2ML4GrWE8Y" class="wolai-block wolai-text"><div><span class="inline-wrap">链表是一种线性数据结构，节点通过指针链接在一起。与数组不同，链表中的元素不需要连续存储。链表的每个节点包含两个部分：</span></div></div><ol class="wolai-block"><li id="uh7j5hSDctq87PThHAKeCU"><div class="marker"></div><span class="inline-wrap">数据部分：存储节点的值。</span></li><li id="45n7XfEAjAqvZB6rAMLh3Z"><div class="marker"></div><span class="inline-wrap">指针部分：存储指向下一个节点的引用。</span></li></ol><h4 id="bahrpVhZ3KYWP2K22xHp6J" class="wolai-block"><span class="inline-wrap">单链表的基本操作</span></h4><ol class="wolai-block"><li id="hVtKkrccbe9UTUS6ixT2Uj"><div class="marker"></div><span class="inline-wrap">插入节点</span></li><li id="wZRHzzNnGbCX1TzKeVzCCT"><div class="marker"></div><span class="inline-wrap">删除节点</span></li><li id="hNW2h1Qd3ZAcJ1NLJGcGoP"><div class="marker"></div><span class="inline-wrap">查找节点</span></li><li id="2UypgcrSctX2ovpqMaEZoa"><div class="marker"></div><span class="inline-wrap">反转链表</span></li></ol><div id="4KRZTdHmRHco1RE9XpqXCu" class="wolai-block wolai-text"><div><span class="inline-wrap">让我们看一个单链表的基本实现：</span></div></div><code-block id="4eFeP1dj4iCqutDTXaSUuc" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token keyword">class</span> <span class="token class-name">ListNode</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">next</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>value <span class="token operator">=</span> value
        self<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token builtin">next</span>

<span class="token keyword">class</span> <span class="token class-name">LinkedList</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>head <span class="token operator">=</span> <span class="token boolean">None</span>

    <span class="token keyword">def</span> <span class="token function">append</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>head<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>head <span class="token operator">=</span> ListNode<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            current <span class="token operator">=</span> self<span class="token punctuation">.</span>head
            <span class="token keyword">while</span> current<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">:</span>
                current <span class="token operator">=</span> current<span class="token punctuation">.</span><span class="token builtin">next</span>
            current<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> ListNode<span class="token punctuation">(</span>value<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">display</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        current <span class="token operator">=</span> self<span class="token punctuation">.</span>head
        <span class="token keyword">while</span> current<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>current<span class="token punctuation">.</span>value<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">" -> "</span><span class="token punctuation">)</span>
            current <span class="token operator">=</span> current<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"None"</span><span class="token punctuation">)</span></pre></div></code-block><h3 id="6gN4V9unq9WhYJ7Eae4JfQ" class="wolai-block"><span class="inline-wrap">示例题目 1：反转链表 (Reverse Linked List)</span></h3><h4 id="iUQekt18fe6JjeuBwxTe28" class="wolai-block"><span class="inline-wrap">题目描述</span></h4><ul class="wolai-block"><li id="6W32fKqVjBVNH6qHArZVni"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">题目： 给定一个单链表的头节点 </span><span class="inline-wrap"><code>head</code></span><span class="inline-wrap">，请反转链表，并返回反转后的链表头节点。</span><div id="rpDKTWYG64sChX2HEYJX8L" class="wolai-block wolai-text"><div><span class="inline-wrap">示例：</span></div></div><code-block id="iydCoMmCh56wr9c3vbSe1W" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre>输入<span class="token operator">:</span> <span class="token number">1</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token number">2</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token number">3</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token number">4</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token number">5</span> <span class="token operator">-</span><span class="token operator">></span> None
输出<span class="token operator">:</span> <span class="token number">5</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token number">4</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token number">3</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token number">2</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token number">1</span> <span class="token operator">-</span><span class="token operator">></span> None</pre></div></code-block></li></ul><h4 id="icBMznpr8KvphDat5kAsKW" class="wolai-block"><span class="inline-wrap">解答</span></h4><div id="hVmJFoQ5E65cMjBd8szNNv" class="wolai-block wolai-text"><div><span class="inline-wrap">反转链表可以通过迭代或递归实现。以下是迭代方法：</span></div></div><code-block id="7hFbiPDYLV5VqZya6zprUM" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token keyword">def</span> <span class="token function">reverse_list</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span><span class="token punctuation">:</span>
    prev <span class="token operator">=</span> <span class="token boolean">None</span>
    current <span class="token operator">=</span> head
    <span class="token keyword">while</span> current<span class="token punctuation">:</span>
        next_node <span class="token operator">=</span> current<span class="token punctuation">.</span><span class="token builtin">next</span>
        current<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> prev
        prev <span class="token operator">=</span> current
        current <span class="token operator">=</span> next_node
    <span class="token keyword">return</span> prev

<span class="token comment"># 测试样例</span>
ll <span class="token operator">=</span> LinkedList<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> value <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
    ll<span class="token punctuation">.</span>append<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
ll<span class="token punctuation">.</span>display<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: 1 -> 2 -> 3 -> 4 -> 5 -> None</span>

reversed_head <span class="token operator">=</span> reverse_list<span class="token punctuation">(</span>ll<span class="token punctuation">.</span>head<span class="token punctuation">)</span>
ll<span class="token punctuation">.</span>head <span class="token operator">=</span> reversed_head
ll<span class="token punctuation">.</span>display<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: 5 -> 4 -> 3 -> 2 -> 1 -> None</span></pre></div></code-block><h3 id="dTFAAp6tmVnZct4bRrM8ea" class="wolai-block"><span class="inline-wrap">示例题目 2：环形链表 (Linked List Cycle)</span></h3><h4 id="jb7Yoq3fnTLzR8kDJDGuZv" class="wolai-block"><span class="inline-wrap">题目描述</span></h4><ul class="wolai-block"><li id="bN3rTtX2dMt7JKZ5br9uxH"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">题目： 给定一个链表，判断链表中是否有环。</span><div id="8Ab7QVkJityqEfqF7ZFZmF" class="wolai-block wolai-text"><div><span class="inline-wrap">示例：</span></div></div><code-block id="a5TNdA2FbNx8hUrzJppEad" class="wolai-block"><div class="wolai-pre"><div data-lang="TypeScript" class="marker"></div><pre>输入<span class="token operator">:</span> <span class="token number">3</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token number">2</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token number">0</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token operator">-</span><span class="token number">4</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token number">2</span> <span class="token punctuation">(</span>链表尾部连接到第二个节点<span class="token punctuation">)</span>
输出<span class="token operator">:</span> True</pre></div></code-block></li></ul><h4 id="mFvdyQcUFW2dGv4kLqXHZL" class="wolai-block"><span class="inline-wrap">解答</span></h4><div id="c5Do9CzywCLXdnpnVEgToA" class="wolai-block wolai-text"><div><span class="inline-wrap">检测链表是否有环可以使用快慢指针（Floyd<span class="jill"></span>判圈算法）：</span></div></div><code-block id="buKCsEwqmazvsfSCPG25H6" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token keyword">def</span> <span class="token function">has_cycle</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span><span class="token punctuation">:</span>
    slow <span class="token operator">=</span> head
    fast <span class="token operator">=</span> head
    <span class="token keyword">while</span> fast <span class="token keyword">and</span> fast<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">:</span>
        slow <span class="token operator">=</span> slow<span class="token punctuation">.</span><span class="token builtin">next</span>
        fast <span class="token operator">=</span> fast<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">if</span> slow <span class="token operator">==</span> fast<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token comment"># 测试样例</span>
<span class="token comment"># 构建一个带环的链表</span>
node1 <span class="token operator">=</span> ListNode<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
node2 <span class="token operator">=</span> ListNode<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
node3 <span class="token operator">=</span> ListNode<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
node4 <span class="token operator">=</span> ListNode<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span>
node1<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> node2
node2<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> node3
node3<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> node4
node4<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> node2  <span class="token comment"># 构成环</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>has_cycle<span class="token punctuation">(</span>node1<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: True</span></pre></div></code-block><h3 id="9SmStcNVppsUc775KqSita" class="wolai-block"><span class="inline-wrap">LeetCode 中的练习题目</span></h3><ol class="wolai-block"><li id="wBfu4jcyHSmam4h88N8ghN"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/add-two-numbers/"><span>LeetCode 2: Add Two Numbers</span></a></span></li><li id="wkok6Bu2Dg47MpaBafiQRN"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/remove-nth-node-from-end-of-list/"><span>LeetCode 19: Remove Nth Node From End of List</span></a></span></li><li id="xmob5vK8GTSS7nxoxgHg7M"><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode.com/problems/rotate-list/"><span>LeetCode 61: Rotate List</span></a></span></li></ol></article><footer></footer></body></html>